## **Connection configuration help**

### **1. MariaDB Installation Instructions**

Please follow the instructions below to ensure successful addition and use of the MariaDB database in Tapdata.

### **2. Supported Versions**
MariaDB 10.x

### **3. Prerequisites (as source)**
#### **3.1 Enable Binlog**
- MariaDB's binlog must be turned on for Tapdata to complete the synchronization work normally.
- Cascade delete (CASCADE DELETE), this type of delete generated by the database will not be recorded in the binlog, so it is not supported.
  Modify `$MYSQL_HOME/mysql.cnf `, for example:
````
server_id = 223344
log_bin = mysql-bin
expire_logs_days = 1
binlog_format = row
````
Configuration explanation: <br>
server-id: must be unique for each server and replication client in MariaDB<br>
binlog_format: must be set to row or ROW<br>
expire_logs_days: The number of days to keep the binary log file, it will be automatically deleted when it expires<br>
log_bin: The base name of the binlog sequence file<br>

#### **3.2 Restart MariaDB**

````
/etc/inint.d/mysqld restart
````
To verify that binlog is enabled, execute the following command in the mysql shell
````
show variables like 'binlog_format';
````
In the output result, the format value should be "ROW"

#### **3.3 Create MariaDB account**
##### **3.3.1 10.x version**
````
create user 'username'@'localhost' identified by 'password';
````

#### **3.4 Authorize tapdata account**
Grant select permission to a database
````
GRANT SELECT, SHOW VIEW, CREATE ROUTINE, LOCK TABLES ON <DATABASE_NAME>.<TABLE_NAME> TO 'tapdata' IDENTIFIED BY 'password';
````
global permissions
````
GRANT RELOAD, SHOW DATABASES, REPLICATION SLAVE, REPLICATION CLIENT, SUPER ON *.* TO 'tapdata' IDENTIFIED BY 'password';
````
### **4. Prerequisites (as goals)**
Grant full permissions to a database
````
GRANT ALL PRIVILEGES ON <DATABASE_NAME>.<TABLE_NAME> TO 'tapdata' IDENTIFIED BY 'password';
````
global permissions
````
GRANT PROCESS ON *.* TO 'tapdata' IDENTIFIED BY 'password';
````
